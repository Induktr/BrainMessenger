import React from 'react';
import Avatar from './ui/Avatar'; // Import the Avatar component

// Define types for props if needed
interface SettingsSidebarProps {
  onNavigateRequest: (path: string) => void; // Function to signal navigation/action
  // Add user data prop if needed: user: UserType;
}

// TODO: Define UserType based on actual user data structure

const SettingsSidebar: React.FC<SettingsSidebarProps> = ({ onNavigateRequest }) => {
  // TODO: Replace with actual user data passed via props
  const user = {
    name: 'Nikits',
    email: 'lvdf190@gmail.com',
    username: '@Nikits',
    avatarUrl: '/avatars/default.jpg', // Placeholder
  };

  // --- Main Menu Items ---
  const mainSettingsItems = [
    { icon: 'settings', label: 'Settings', path: '/settings' }, // Will trigger modal via onNavigateRequest
    { icon: 'channel', label: 'Fresh channel', path: '/channels/new' },
    { icon: 'group', label: 'Fresh group', path: '/groups/new' },
    { icon: 'theme', label: 'Night Mode', path: '/' }, // Or handle directly via state/context
    { icon: 'animations', label: 'Animations: on', path: '/' },
    { icon: 'support', label: 'Support', path: '/support' },
  ];

  // --- Icons ---
  // TODO: Replace placeholders with actual SVG icons matching the design
  const icons: { [key: string]: React.ReactNode } = {
    settings: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_720_54)"><path d="M12.2663 0.1454C13.2485 0.126299 14.2519 0.0243216 14.9193 0.889924C15.3228 1.41321 15.4193 2.09402 15.3367 2.73794C16.2509 2.78631 16.9538 3.37853 17.7101 3.65113C17.8652 3.58439 17.9627 3.4489 18.0732 3.32727C18.6884 2.65026 19.6909 2.51742 20.4628 3.02329C20.7168 3.18976 21.6387 4.1056 21.8255 4.38242C22.1052 4.79687 22.2035 5.24766 22.0922 5.73671C21.9093 6.54048 21.4589 6.58473 21.1345 7.10794C21.4242 7.81623 22.0361 8.56416 22.1101 9.40215C22.648 9.40482 23.0874 9.34529 23.5836 9.61608C24.2667 9.98874 24.5865 10.6794 24.5935 11.4471L24.5945 12.1138C24.593 13.8513 23.7836 14.275 22.1757 14.2745C22.0027 14.8972 21.7594 15.4915 21.4604 16.0639C21.3469 16.2811 21.1716 16.5221 21.0824 16.7396C21.52 17.3124 22.0921 17.5186 22.113 18.4317C22.1303 19.1859 21.8472 19.4223 21.3786 19.8896C20.7725 20.4939 20.4279 21.0691 19.4614 21.0872C18.6359 21.1027 18.2037 20.7301 17.6432 20.1901C16.7874 20.605 16.2766 20.8935 15.3367 21.2041C15.2856 22.5534 15.2174 23.2271 13.7088 23.6834L12.7786 23.683C11.0294 23.6733 10.4591 22.894 10.4615 21.2041C9.8734 20.9572 9.28756 20.7953 8.68808 20.5088C7.98682 20.1737 8.10425 20.1257 7.60147 20.5877C6.90973 21.2234 5.81998 21.2513 5.11967 20.6071C4.52074 20.0561 3.73506 19.3708 3.70229 18.5471C3.66974 17.7288 4.07669 17.2458 4.59758 16.6784C4.1137 15.9487 3.84005 15.1142 3.61794 14.2745C2.88522 14.2766 2.29747 14.2981 1.73634 13.7371C1.35053 13.3513 1.18149 12.8993 1.17969 12.3596L1.18 11.6173C1.18184 10.9473 1.24258 10.4673 1.74006 9.9698C2.36696 9.3429 2.88556 9.4036 3.6678 9.40215C3.85504 8.57246 4.28359 7.86235 4.64662 7.10794C4.23151 6.53283 3.65457 6.18849 3.61786 5.40465C3.57672 4.52604 4.04394 4.22195 4.58792 3.67837C5.094 3.17266 5.41894 2.76314 6.19358 2.73678C6.968 2.71043 7.5252 3.14434 8.06675 3.65113C8.65311 3.24137 9.73592 2.85146 10.4153 2.68455C10.4163 1.96299 10.3847 1.44031 10.8808 0.847417C11.2435 0.414102 11.7098 0.196569 12.2663 0.1454ZM13.7088 22.1803L13.7185 22.1723C14.1633 21.8037 13.7976 20.977 13.98 20.4127C14.1427 19.909 14.704 19.8487 15.1408 19.7191C15.7388 19.5417 16.3263 19.2587 16.8528 18.929C17.01 18.8305 17.3395 18.5736 17.4929 18.5236C18.2416 18.2798 18.6286 19.4444 19.2142 19.6986C19.6205 19.8751 19.9325 19.4018 20.1712 19.1546C20.3754 18.943 20.636 18.7548 20.7292 18.4645C20.5399 18.035 20.1422 17.7443 19.8125 17.4249C19.2487 16.8787 19.3732 16.7086 19.7524 16.1726C20.2035 15.535 20.5143 14.8143 20.751 14.0726C20.8408 13.7912 20.912 13.1403 21.1051 12.9705C21.5068 12.6173 22.9094 13.1706 23.16 12.5802C23.23 12.4154 23.2223 11.2653 23.1508 11.1106C22.8963 10.5594 21.6719 10.964 21.2373 10.7941C20.8732 10.6519 20.8689 10.0837 20.7737 9.77035C20.5668 9.08926 20.2913 8.41491 19.9158 7.80868C19.7191 7.49115 19.4278 7.18946 19.5664 6.78535C19.7387 6.28323 20.8757 5.80327 20.6079 5.2089C20.5322 5.0409 19.9545 4.46842 19.7912 4.33775C19.0873 3.7745 18.6088 4.98999 18.0672 5.22751C17.6794 5.39762 17.3232 5.06237 17.0094 4.88555C16.4585 4.57501 15.8453 4.29634 15.2345 4.12741C14.8563 4.02278 14.212 4.00091 14.0055 3.60115C13.7415 3.08989 14.2339 1.84658 13.6189 1.63792C13.4626 1.5849 12.4564 1.58139 12.2663 1.59803C11.8778 1.68415 11.8266 1.97553 11.8283 2.32211L11.8317 2.96658C11.8367 3.98897 11.5469 3.87091 10.6357 4.10908C10.0085 4.27303 9.37667 4.52683 8.82429 4.87135C8.07964 5.33583 8.03403 5.4534 7.34112 4.91963L6.7879 4.49403C6.57312 4.33074 6.29703 4.07036 6.02272 4.27568C5.87211 4.38843 5.22646 5.01948 5.14255 5.16254C4.96268 5.46924 5.61851 6.09807 5.83015 6.36202C6.51214 7.21262 6.21884 7.23108 5.768 8.0048C5.42913 8.58629 5.15143 9.24282 4.9862 9.89757C4.89477 10.2598 4.88463 10.6576 4.45621 10.7869C3.91514 10.9502 2.71054 10.5271 2.59575 11.2703C2.55995 11.5021 2.54318 12.3087 2.61248 12.5218C2.71684 12.8426 2.9547 12.8623 3.24829 12.8613L3.89193 12.8581C4.9752 12.8541 4.78004 13.2284 5.0039 14.0401C5.19296 14.7255 5.52696 15.5397 5.92006 16.1336C6.07737 16.3713 6.33078 16.6111 6.1864 16.9163C6.09701 17.1053 5.56279 17.7356 5.39028 17.9515C5.18477 18.2087 4.96123 18.4374 5.20638 18.7449C5.34901 18.9238 5.97195 19.5504 6.16142 19.6394C6.53351 19.8144 7.16286 19.0988 7.41861 18.8699C8.04959 18.3051 8.17812 18.5792 8.81581 18.9379C9.3762 19.2531 9.96415 19.5179 10.5763 19.7149C11.7161 20.0818 11.8937 20.2282 11.8903 21.5544C11.8883 22.3353 12.2766 22.2517 12.9397 22.2526C13.1986 22.2529 13.464 22.2842 13.7088 22.1803Z" fill="#F0F0F0"/><path d="M12.7022 7.17017C14.1541 7.1284 15.4586 7.68214 16.442 8.77418C18.4113 10.961 17.8934 14.4682 15.332 16.0004C14.6058 16.4348 13.9535 16.6211 13.1114 16.6791C10.0245 16.7186 7.69119 14.1824 8.21413 11.0925C8.58393 8.90759 10.4968 7.28422 12.7022 7.17017ZM13.2247 15.2392C13.4335 15.1997 13.6422 15.1638 13.8455 15.1007C15.4608 14.5991 16.4701 12.9766 16.1464 11.3002C15.8781 9.91072 14.6877 8.75426 13.2671 8.60661C13.0338 8.58237 12.7974 8.58818 12.5633 8.59334C10.6595 8.82654 9.36768 10.5271 9.61157 12.4233C9.80319 13.9132 11.1521 15.1332 12.6396 15.2321C12.8343 15.245 13.0294 15.2321 13.2247 15.2392Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_720_54"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.890625 0.0507812)"/></clipPath></defs></svg>,
    channel: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_718_50)"><path d="M9.09599 0.705359C12.0265 0.528028 14.4131 3.29347 14.018 6.18456C13.8574 7.35985 13.1873 8.48485 12.264 9.22299C12.0087 9.42709 11.7184 9.56818 11.4601 9.76412C12.9232 9.89045 14.215 10.4918 15.2707 11.5286C15.5802 11.8326 16.1759 12.5715 16.3387 12.9582C16.571 13.5102 16.1881 14.146 15.5628 14.1385C15.027 14.1321 14.8327 13.7174 14.5681 13.3309C13.7192 12.0911 12.436 11.4497 10.9595 11.4452L8.65185 11.4455C7.33269 11.4449 6.39336 11.3675 5.20893 12.0783C3.7528 12.9522 2.95865 14.4292 2.95413 16.1362L2.95376 20.373C2.95378 20.5908 2.93905 20.8219 2.98132 21.0363C3.14914 21.8875 4.09376 21.7237 4.71281 21.7235L6.60454 21.7239L11.7484 21.7235C12.1725 21.7235 12.6197 21.6654 12.9499 21.9857C13.2843 22.3101 13.23 22.8444 12.9111 23.1592C12.5723 23.4936 12.0486 23.3851 11.6188 23.3845L3.94183 23.385C2.63561 23.383 1.57646 22.685 1.27889 21.3504C1.20686 21.0273 1.21963 20.6982 1.21962 20.3696L1.22009 16.3525C1.23551 13.2436 3.19292 10.4982 6.33571 9.8882C6.61841 9.83331 6.89342 9.78479 7.18264 9.78667C7.03846 9.68293 6.8743 9.61074 6.72233 9.51934C5.38555 8.71529 4.55503 7.17559 4.51357 5.62759C4.4433 3.00381 6.44347 0.772535 9.09599 0.705359ZM9.27383 8.57331C11.993 8.62595 13.3588 5.24566 11.4838 3.31251C10.9343 2.74594 10.0377 2.27537 9.22663 2.35071C6.40072 2.36773 5.14014 5.81078 7.09578 7.71292C7.63644 8.23881 8.51061 8.62679 9.27383 8.57331Z" fill="#F0F0F0"/><path d="M18.6401 14.07C18.9602 14.0637 19.2871 14.0613 19.6053 14.1001C23.0358 14.5181 25.039 18.4237 23.5229 21.5267C22.6959 23.2192 21.1459 24.1881 19.3103 24.3459C17.9682 24.3794 16.852 24.0885 15.7836 23.2004C12.4224 20.4063 13.7349 14.8508 18.161 14.1187C18.3189 14.0926 18.4807 14.0834 18.6401 14.07ZM19.1368 23.0467C21.2828 22.9962 22.8266 21.1032 22.7699 19.0031C22.7166 17.0324 20.8419 15.1353 18.8176 15.3341C16.6961 15.3665 15.1045 17.2172 15.1388 19.2896C15.1738 21.399 17.0288 23.1547 19.1368 23.0467Z" fill="#F0F0F0"/><path d="M18.8749 16.2409C19.7027 16.1652 19.7129 16.8734 19.7125 17.4668L19.712 18.519L20.6555 18.5186C20.9951 18.5181 21.3571 18.4675 21.6276 18.7189C22.0011 19.066 21.8579 19.7118 21.3531 19.8444C21.115 19.9069 20.8406 19.8822 20.5958 19.8821L19.712 19.8817L19.7127 20.9555C19.7137 21.543 19.729 22.0703 18.9906 22.1512C18.2201 22.1465 18.286 21.3635 18.2861 20.8485L18.2864 19.8817C17.7342 19.855 16.5732 20.0389 16.1963 19.616C15.8561 19.2343 16.0397 18.6312 16.5575 18.5328C16.7891 18.4887 18.0093 18.4973 18.2864 18.519C18.2944 18.1532 18.2857 17.7859 18.2859 17.4199C18.2862 16.9414 18.2479 16.3323 18.8749 16.2409Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_718_50"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.625 0.604492)"/></clipPath></defs></svg>,
    group: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_717_44)"><path d="M9.22943 18.5084C6.89758 18.5127 4.82173 17.8628 3.12218 16.1681C1.59052 14.6408 0.695591 12.6371 0.695313 10.4733C0.694421 3.53299 8.60177 -0.513402 14.1116 4.20388C14.8089 4.80078 15.5067 5.49855 15.9243 6.32145C16.3978 6.21954 17.1035 6.29309 17.5835 6.36054C21.4522 6.90405 24.3784 10.2716 24.5456 14.1327C24.6929 17.531 22.7091 20.6051 19.5909 21.9086C16.0741 23.3787 12.0762 22.2387 9.80589 19.2129C9.65374 19.0101 9.47979 18.662 9.33743 18.5084H9.22943ZM12.6803 17.5185C12.2045 16.8261 12.0483 16.5367 11.7509 15.7863C12.0259 15.6086 12.3197 15.474 12.5877 15.282C14.1169 14.1864 14.5545 12.9532 14.8519 11.177C15.0109 10.228 15.015 9.42396 14.7338 8.50062C12.2063 9.24452 10.5215 11.4644 10.2761 14.0393C10.3108 16.0747 10.7753 17.5428 12.3126 19.0313C13.7932 20.4649 16.0591 20.9029 18.027 20.404C20.7445 19.7151 22.6397 17.1289 22.5819 14.3377C22.5172 11.2189 19.9175 8.26305 16.7389 8.20741C17.4746 12.0349 16.2019 15.6027 12.6803 17.5185ZM8.15365 16.5088H8.53183C7.50246 12.5113 9.49601 8.61743 13.1916 6.93663C13.7649 6.67591 13.9002 6.83609 13.4856 6.3251C12.2898 4.85139 10.4159 4.05955 8.53183 4.12253C6.81996 4.25003 5.32099 4.94769 4.18023 6.26815C1.13043 9.7983 2.80167 15.279 7.31107 16.3544C7.59082 16.4211 7.87315 16.4517 8.15365 16.5088Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_717_44"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.625 0.489258)"/></clipPath></defs></svg>,
    theme: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_715_12)"><path d="M7.58349 8.02551C8.18518 7.97142 8.42223 8.47069 8.42415 8.99494L8.42434 14.1986C8.4242 15.4984 8.2442 15.5715 7.08704 15.5707L1.87208 15.5701C1.46705 15.5714 1.11072 15.3068 1.03777 14.8983C0.950914 14.412 1.2747 14.1555 1.58185 13.8446L6.69502 8.66315C6.99334 8.3639 7.13804 8.09831 7.58349 8.02551ZM6.66966 11.1981C6.18446 11.537 5.16985 12.6887 4.73036 13.1425C4.57339 13.3046 4.26126 13.5813 4.14449 13.7515L4.14765 13.7682L4.16412 13.7677H6.66966C6.68054 13.5806 6.67449 11.2076 6.66966 11.1981Z" fill="#F0F0F0"/><path d="M12.5465 0.709088C12.8952 0.675797 13.5273 0.770343 13.8873 0.821827C16.5955 1.20915 19.1241 2.44794 21.0205 4.41993C24.064 7.58478 25.0958 12.4538 23.5635 16.5775C22.5171 19.3936 20.3769 21.806 17.6489 23.0904C16.3653 23.6947 15.0396 24.0467 13.6272 24.1945C10.7139 24.4487 7.65385 23.6203 5.40385 21.7147C4.97501 21.3515 4.96451 20.6385 5.46737 20.3306C5.7084 20.183 6.11387 20.1402 6.39357 20.0721C8.58254 19.5392 10.782 18.2446 12.2443 16.5435C15.7713 12.4405 15.9554 6.68764 12.4503 2.51285C12.2788 2.30848 12.0649 2.11641 11.9276 1.88686C11.6187 1.3701 11.956 0.746045 12.5465 0.709088ZM14.8721 2.85111C14.9944 3.09883 15.1561 3.32676 15.2858 3.57071C18.7962 10.1721 15.5896 18.324 8.81077 21.0867C8.57199 21.184 8.32407 21.2645 8.09368 21.3811C9.7899 22.2267 11.9038 22.6774 13.8035 22.3943C19.584 21.6878 23.5177 16.2307 22.316 10.512C21.5639 6.93275 19.0042 4.061 15.5124 3.01146C15.3163 2.95254 15.0778 2.85513 14.8721 2.85111Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_715_12"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.625 0.604492)"/></clipPath></defs></svg>,
    animations: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_715_31)"><path d="M4.38115 8.96973C5.00655 8.99752 5.24297 9.4697 5.5642 9.91773L14.4888 22.1343C14.7579 22.4962 15.0952 22.8071 15.0266 23.2975C14.9553 23.8068 14.4573 24.2226 13.9361 24.1396C13.373 24.0499 13.1576 23.5932 12.8458 23.1788C12.2902 22.4403 11.7528 21.6898 11.2154 20.9382C11.1408 20.8242 11.0519 20.7152 10.971 20.6051L8.49881 17.2599C8.01778 16.6143 7.55507 15.9549 7.08637 15.3004L5.33924 12.8897L5.33943 17.5053C5.33934 17.7246 5.35265 17.9559 5.31646 18.1725C5.15647 19.13 3.48942 19.2036 3.40533 18.0076C3.39304 17.8327 3.40093 17.6531 3.40093 17.4778L3.40727 10.3687C3.40583 9.60741 3.46677 9.03774 4.38115 8.96973Z" fill="#F0F0F0"/><path d="M11.1056 0.600006C11.6761 0.526037 11.9749 0.965321 12.2779 1.37873L19.9384 11.8641L19.938 6.59599C19.9381 6.35622 19.9213 6.09447 19.9607 5.85775C20.126 4.86202 21.6302 4.83699 21.8271 5.85241C21.861 6.02721 21.8481 6.20974 21.8479 6.38688L21.8473 9.87635L21.8481 14.3929C21.8494 14.5934 21.8658 14.8042 21.8384 15.0028C21.7405 15.7118 20.8344 16.074 20.2784 15.6282C20.0255 15.4254 19.7801 15.0148 19.5877 14.7483L10.7975 2.61132C10.587 2.31842 10.294 2.01872 10.2616 1.64278C10.217 1.12529 10.568 0.638445 11.1056 0.600006Z" fill="#F0F0F0"/><path d="M4.48136 0.600183C5.19546 0.558912 5.42195 0.885371 5.81439 1.41774L21.0746 22.2134C21.2346 22.4317 21.4375 22.6352 21.514 22.9018C21.6783 23.4751 21.3296 23.981 20.7766 24.1329C19.9359 24.2891 19.4894 23.3956 19.0535 22.8022L4.79478 3.3399C4.55269 3.01083 3.79624 2.12285 3.71892 1.7521C3.60285 1.19553 3.92387 0.712166 4.48136 0.600183Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_715_31"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.625 0.515625)"/></clipPath></defs></svg>,
    support: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_715_35)"><path d="M12.5389 13.7094C13.6751 13.6396 13.9044 15.1548 12.8047 15.4187C11.7043 15.5906 11.3477 13.9248 12.5389 13.7094Z" fill="#F0F0F0"/><path d="M12.8068 5.06716C15.8646 4.89862 17.7077 8.5537 15.1001 10.4655C14.653 10.7933 14.1721 11.0648 13.8196 11.5062C13.4589 11.958 13.5715 12.4494 13.3203 12.78C13.0381 13.1514 12.4575 13.2201 12.0915 12.9337C11.3486 12.3525 12.0631 10.9526 12.541 10.3384C12.7359 10.182 12.9268 9.96553 13.1418 9.7913C13.6591 9.37219 14.6322 8.92275 14.5743 8.12808C14.4598 6.55889 11.8773 6.25219 11.238 7.74431C11.1409 7.97095 11.0975 8.20842 10.9293 8.39906C10.4079 8.99016 9.25231 8.6183 9.49367 7.50947C9.82357 5.99367 11.3333 5.11609 12.8068 5.06716Z" fill="#F0F0F0"/><path d="M12.6492 16.8167L12.6768 16.8161C14.3623 16.7799 15.8018 18.2355 15.8308 19.9028C15.8616 21.6699 14.4443 23.1069 12.6808 23.1281C9.89256 23.1636 8.40733 19.8496 10.3278 17.8051C10.951 17.1415 11.7531 16.8437 12.6492 16.8167ZM12.5399 18.5614C10.6142 18.7741 10.9973 21.603 12.8057 21.3682C14.8038 20.9951 14.2744 18.405 12.5399 18.5614Z" fill="#F0F0F0"/><path d="M12.6463 1.84937C15.3936 1.7909 17.9933 3.2326 19.514 5.50993C19.7603 5.87889 19.9672 6.28267 20.1688 6.6774C20.4873 6.80996 20.8222 6.90329 21.1392 7.04148C23.5407 8.08843 24.9451 10.6689 24.4338 13.2593C23.7804 16.5705 20.2336 18.6229 17.0943 17.3961C16.9145 17.3259 16.7389 17.2254 16.5483 17.1888L16.5278 17.1849C16.4368 17.2148 16.3565 17.2655 16.2717 17.309C15.5493 17.679 14.8222 17.1218 14.9421 16.3469C15.0183 15.8539 15.503 15.7127 15.8871 15.516C17.5315 14.6738 18.8049 12.7639 19.0715 10.9634C19.8225 5.89173 14.4686 1.80756 9.85002 4.32627C9.63402 4.44408 9.41216 4.5701 9.21487 4.71724C7.98383 5.54725 7.1346 6.90329 6.70921 8.30345C6.51651 8.31939 6.31794 8.29871 6.12383 8.30612C3.30202 8.41379 1.51517 11.4892 2.88114 13.9713C3.81129 15.6615 6.01612 16.5282 7.78996 15.6881C8.05597 15.5621 8.28449 15.3912 8.53954 15.2529L8.55163 15.2465C9.00665 15.4961 10.2207 16.0991 10.2953 16.5829C10.3658 17.0403 10.0548 17.4847 9.59132 17.5516C9.21247 17.6063 8.98119 17.3965 8.69858 17.1849C5.89893 18.6871 2.43887 17.216 1.17471 14.3763C-0.25679 11.1607 1.7215 7.57712 5.0741 6.73492C5.21796 6.69878 5.36727 6.68556 5.50944 6.64239L5.52529 6.63746C5.65574 6.41903 5.75024 6.17064 5.87127 5.94545C6.25593 5.22993 6.80577 4.53008 7.40141 3.97312C8.9893 2.48836 10.5644 2.00699 12.6463 1.84937ZM20.7806 8.78045L20.781 8.79446C20.7901 9.02223 20.8351 9.24896 20.8525 9.47645C21.0213 11.6805 20.2236 13.8058 18.7356 15.4333C18.6437 15.5338 18.3091 15.8307 18.2767 15.9118L18.282 15.9336C18.6809 16.0895 19.6958 15.9677 20.0927 15.8577C22.1146 15.2456 23.3025 13.0753 22.6812 11.0446C22.438 10.2496 21.5749 9.11448 20.7806 8.78045Z" fill="#F0F0F0"/></g><defs><clipPath id="clip0_715_35"><rect width="24" height="24" fill="#F0F0F0" transform="translate(0.625 0.616211)"/></clipPath></defs></svg>,
  };

  // --- Navigation Handler ---
  const handleItemClick = (path?: string) => {
    if (path) {
      onNavigateRequest(path); // Call the prop function with the path
    }
  };

  return (
    // Use flex-col and h-full to ensure proper layout within the fixed container
    <div className="flex flex-col h-full text-textPrimary-light dark:text-textPrimary-dark overflow-hidden">
      {/* User Info Block */}
      <div className="flex flex-col items-center text-center pt-4 pb-6 px-4"> {/* Added top padding */}
        <Avatar
          avatarUrl={user.avatarUrl}
          name={user.name}
          seed={user.username} // Use username for consistent color
          size="medium" // Adjust size if needed
          className="mb-3" // Keep the bottom margin
        />
        <div className="flex-1 min-w-0">
          <p className="font-medium truncate">{user.name}</p>
          <p className="text-xs text-textSecondary-light dark:text-textSecondary-dark truncate">{user.email}</p>
          <p className="text-xs text-textSecondary-light dark:text-textSecondary-dark truncate">{user.username}</p>
        </div>
      </div>
      {/* Divider */}
      <div className="h-px bg-success mb-4 mx-4"></div> {/* Added bottom margin */}
      {/* Main Menu List */}
      <ul className="flex flex-col">
        {mainSettingsItems.map((item) => (
          <li
            key={item.label}
            onClick={() => handleItemClick(item.path)} // Pass path to handler
            className="flex items-center py-2.5 cursor-pointer hover:bg-surface-light dark:hover:bg-background-dark w-full"
          >
            <span className="pl-4 pr-3">{icons[item.icon] || <div className="w-6 h-6"></div>}</span>
            <span className="pr-2">{item.label}</span>
          </li>
        ))}
      </ul>
    </div>
  );
};

export default SettingsSidebar;
