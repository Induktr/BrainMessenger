# Документация требований BrainMessenger

### 1. Общая информация

**Название проекта:** BrainMessenger

**Описание:** BrainMessenger — это современный мессенджер, предназначенный для безопасного, удобного и масштабируемого общения между пользователями.

**Цель:** Создать приложение, обеспечивающее защищённое общение с поддержкой до 1 миллиона активных пользователей, предоставляющее функциональность личных и групповых чатов, звонков и подписки на премиум-услуги.

**Заинтересованные стороны:**

- Пользователи (конечные клиенты).
- Команда разработки (xAI).
- Маркетинговая команда.

---

### 2. Функциональные требования

Функциональные требования описывают, что система должна делать, чтобы удовлетворить потребности пользователей.

### 2.1. Регистрация и аутентификация

- **FR-1:** Пользователь может зарегистрироваться, указав email, пароль и имя.
    - Код подтверждения отправляется на email и должен быть введён для завершения регистрации.
- **FR-2:** Пользователь может войти в систему с помощью email и пароля.
- **FR-3:** Пользователь может выйти из системы, что делает текущий токен недействительным.
- **FR-4:** Пользователь может включить двухфакторную аутентификацию (2FA), получая код на email при входе.
- **FR-5:** Пользователь может отключить 2FA в настройках профиля.

### 2.2. Управление профилем

- **FR-6:** Пользователь может обновить имя, email и пароль в профиле.
- **FR-7:** Пользователь может загрузить фото профиля.
- **FR-8:** Пользователь может удалить свой аккаунт.
- **FR-9:** Пользователь может настроить приватность (например, кто видит фото или статус).

### 2.3. Чаты и сообщения

- **FR-10:** Пользователь может видеть список своих чатов (личных, групповых, каналов).
- **FR-11:** Пользователь может создать личный или групповой чат, указав участников.
- **FR-12:** Пользователь может отправлять текстовые сообщения в чат.
- **FR-13:** Пользователь может просматривать историю сообщений в чате.
- **FR-14:** Пользователь может подписаться на публичные каналы и читать их контент.
- **FR-15:** Пользователь может архивировать чаты и восстанавливать их из архива.

### 2.4. Звонки и видеозвонки

- **FR-16:** Пользователь может инициировать аудио- или видеозвонок с другим пользователем.
- **FR-17:** Пользователь может создавать конференц-звонки с несколькими участниками.
- **FR-18:** Пользователь может просматривать историю звонков.
- **FR-19:** Пользователь может настроить качество видео и аудио (например, низкое/высокое).

### 2.5. Файлы и медиа

- **FR-20:** Пользователь может отправлять и получать файлы (фото, видео, документы).
- **FR-21:** Пользователь может фильтровать медиа по типу в чате.
- **FR-22:** Пользователь может управлять хранилищем (удалять файлы).

### 2.6. Контакты

- **FR-23:** Пользователь может видеть список добавленных контактов.
- **FR-24:** Пользователь может искать новых пользователей по имени или email.

### 2.7. Настройки

- **FR-25:** Пользователь может управлять уведомлениями (вкл/выкл, звук).
- **FR-26:** Пользователь может выбрать тему оформления (светлая/тёмная).
- **FR-27:** Пользователь может отключить или настроить анимации.
- **FR-28:** Пользователь может выбрать язык интерфейса.
- **FR-29:** Пользователь может кастомизировать чаты (цвета, шрифты).

### 2.8. Премиум-подписка

- **FR-30:** Пользователь может просмотреть преимущества премиум-подписки.
- **FR-31:** Пользователь может оформить подписку через платежную систему.
- **FR-32:** Пользователь может видеть историю платежей.

---

### 3. Нефункциональные требования

Нефункциональные требования описывают характеристики системы, такие как производительность, безопасность и удобство использования.

### 3.1. Производительность

- **NFR-1:** Время загрузки приложения не превышает 0.5 секунды при нормальных условиях сети.
- **NFR-2:** Поиск чатов выполняется за 0.3 секунды при базе до 1 млн записей.
- **NFR-3:** Сообщения доставляются в реальном времени (<1 секунда задержки).
- **NFR-4:** Система поддерживает до 1 млн одновременных пользователей без деградации производительности.

### 3.2. Безопасность

- **NFR-5:** Все данные (сообщения, файлы) шифруются при передаче (TLS/SSL) и хранении (AES).
- **NFR-6:** Пароли хранятся в хешированном виде (например, bcrypt).
- **NFR-7:** Защита от SQL-инъекций, XSS и DDoS-атак.
- **NFR-8:** Коды подтверждения имеют срок действия 10 минут и лимит попыток ввода (5 раз).

### 3.3. Удобство использования

- **NFR-9:** Интерфейс адаптируется под мобильные устройства (iOS, Android) и десктоп.
- **NFR-10:** Поддержка экранных читалок и высокий контраст для доступности (WCAG 2.1 AA).
- **NFR-11:** Мультиязычность с поддержкой минимум 5 языков (английский, русский и т.д.).

### 3.4. Надёжность

- **NFR-12:** Время безотказной работы (uptime) не менее 99.9%.
- **NFR-13:** Данные пользователей резервируются ежедневно с возможностью восстановления.

### 3.5. Масштабируемость

- **NFR-14:** Система поддерживает горизонтальное масштабирование через контейнеры (Docker, Kubernetes).
- **NFR-15:** База данных оптимизирована для роста числа пользователей и сообщений.

---

### 4. Ограничения

- **C-1:** Приложение поддерживает только мобильные платформы iOS (версии 13+) и Android (версии 9+), а также веб-версию для браузеров Chrome, Firefox, Safari.
- **C-2:** Минимальная скорость интернета для звонков — 1 Мбит/с.
- **C-3:** Максимальный размер файла для отправки — 100 МБ.
- **C-4:** Поддержка только современных стандартов шифрования (TLS 1.2 и выше).

---

### 5. Предположения

- Пользователи имеют доступ к стабильному интернет-соединению для основных функций.
- Устройства пользователей соответствуют минимальным требованиям (например, 2 ГБ RAM).
- Внешние сервисы (Gmail API, Stripe) доступны и работают без сбоев.

---

### 6. Критерии приемки

- Все функциональные требования (FR-1–FR-32) реализованы и протестированы.
- Нефункциональные требования (NFR-1–NFR-15) выполнены в рамках указанных параметров.
- Приложение прошло тестирование на 1000 одновременных пользователей без критических ошибок.
- Успешная регистрация, отправка сообщения и звонок подтверждены в реальных условиях.

---

### Что сделано

1. **Чёткая структура:** Разделение на функциональные и нефункциональные требования для ясности.
2. **Полнота:** Охвачены все ключевые аспекты из предыдущих документов (UI, API, техническая документация).
3. **Конкретика:** Добавлены измеримые параметры (время загрузки, лимиты) и ограничения.
4. **Ориентация на цель:** Упор на безопасность, масштабируемость и удобство, как указано в общей концепции BrainMessenger.

Эта документация задаёт основу для разработки, тестирования и оценки проекта, обеспечивая единое видение для всех участников. Она может быть дополнена в процессе работы, если появятся новые требования или уточнения.